#
# This file was created by generate_dockerfiles.py.
# Usage: docker build -f ./Dockerfile.test_python ../../
#

FROM ubuntu:20.04

# Install test for python.
WORKDIR /workspace

COPY ./tools/docker/scripts/install_basics.sh .
RUN ./install_basics.sh

# Some buggy Python packages open utf8 files in text mode.
# As workaround we set locale.getpreferredencoding() to utf8.
ENV LANG="en_US.UTF-8" LANGUAGE="en_US:en" LC_ALL="en_US.UTF-8"

COPY ./tools/docker/scripts/install_python.sh .
RUN ./install_python.sh

COPY ./tools/docker/scripts/ci_entrypoint.sh ./tools/docker/scripts/test_python.sh ./
CMD ["./ci_entrypoint.sh", "./test_python.sh"]

#EOF
